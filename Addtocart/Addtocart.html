  
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="Addtocart.css">
</head>

<body>
    <div class="header">
        <h2>Shopping Cart</h2>
        <div id="totalPrice">Total Price: ₹<span id="totalPriceValue">0.00</span></div>
    </div>

    <div id="cardContainer"></div>

    <script>
        const cardContainer = document.getElementById("cardContainer");
        const totalPriceValue = document.getElementById("totalPriceValue");
        let cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

        function calculateTotal() {
            let total = 0;
            cartItems.forEach(item => {
                total += parseFloat(item.price.replace('₹', '')) * item.quantity;
            });
            totalPriceValue.textContent = total.toFixed(2);
            localStorage.setItem("totalPrice", total.toFixed(2)); // Save total for payment page
        }

        function displayCart() {
            cardContainer.innerHTML = "";
            cartItems.forEach((item, index) => {
                let card = document.createElement("div");
                card.classList.add("AllCards");
                card.innerHTML = `
                    <img src="${item.image}" width="260" />
                    <h2>${item.category}</h2>
                    <h3>${item.price}</h3>
                    <div class="quantity-controls">
                        <button class="decrease" data-index="${index}">-</button>
                        <span class="quantity">${item.quantity}</span>
                        <button class="increase" data-index="${index}">+</button>
                        <button class="payment" data-index="${index}">Payment</button>
                    </div>
                `;

                cardContainer.append(card);
            });

            document.querySelectorAll(".increase").forEach(button => {
                button.addEventListener("click", function () {
                    const index = this.getAttribute("data-index");
                    cartItems[index].quantity++;
                    updateCart();
                });
            });

            document.querySelectorAll(".decrease").forEach(button => {
                button.addEventListener("click", function () {
                    const index = this.getAttribute("data-index");
                    if (cartItems[index].quantity > 1) {
                        cartItems[index].quantity--;
                    } else {
                        cartItems.splice(index, 1);
                    }
                    updateCart();
                });
            });

            document.querySelectorAll(".payment").forEach(button => {
                button.addEventListener("click", function () {
                    window.location.href = "payment.html";
                });
            });
        }

        function updateCart() {
            updateLocalStorage();
            calculateTotal();
            displayCart();
        }

        function updateLocalStorage() {
            localStorage.setItem("cartItems", JSON.stringify(cartItems));
        }

        cartItems = cartItems.map(item => ({
            ...item,
            quantity: item.quantity || 1
        }));

        calculateTotal();
        displayCart();
    </script>
</body>

</html>



